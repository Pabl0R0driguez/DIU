{"ast":null,"code":"import _classCallCheck from\"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import TutorialDataService from\"../services/tutorial.service\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../styles/Tutoriales.css\";import{Container,Table,Button,Form,Modal}from\"react-bootstrap\";import{motion,AnimatePresence}from\"framer-motion\";import buscar1 from\"../assets/buscar1.png\";var TutorialsList=/*#__PURE__*/function(_Component){_inherits(TutorialsList,_Component);function TutorialsList(props){var _this;_classCallCheck(this,TutorialsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(TutorialsList).call(this,props));_this.onChangeSearchTitle=function(e){_this.setState({searchTitle:e.target.value});};_this.retrieveTutorials=function(){TutorialDataService.getAllTutorials().then(function(response){_this.setState({tutorials:response.data});}).catch(function(e){return console.log(e);});};_this.searchTitle=function(){TutorialDataService.findByTitle(_this.state.searchTitle).then(function(response){_this.setState({tutorials:response.data,currentTutorial:null,currentIndex:-1});}).catch(function(e){return console.log(e);});};_this.setActiveTutorial=function(tutorial,index){_this.setState({currentTutorial:_this.state.currentIndex===index?null:tutorial,currentIndex:_this.state.currentIndex===index?-1:index});};_this.showMoreInfo=function(tutorial){_this.setState({showModal:true,selectedTutorial:tutorial});};_this.handleCloseModal=function(){_this.setState({showModal:false,selectedTutorial:null});};_this.state={tutorials:[],// Lista de tutoriales\ncurrentTutorial:null,currentIndex:-1,searchTitle:\"\",showModal:false,// Controla la visibilidad del modal\nselectedTutorial:null// Guarda el tutorial seleccionado para mostrar en el modal\n};return _this;}// Cuando el componente se monta, recibe los tutoriales pasados en el state o hace la consulta\n_createClass(TutorialsList,[{key:\"componentDidMount\",value:function componentDidMount(){var location=this.props.location;if(location.state&&location.state.tutoriales){console.log(\"Tutoriales recibidos en TutorialsList:\",location.state.tutoriales);this.setState({tutorials:location.state.tutoriales});}else{console.log(\"No se recibieron tutoriales en state.\");this.retrieveTutorials();// Si no se reciben, hace la consulta\n}}// Cambiar el valor de la búsqueda\n},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,searchTitle=_this$state.searchTitle,tutorials=_this$state.tutorials,currentIndex=_this$state.currentIndex,showModal=_this$state.showModal,selectedTutorial=_this$state.selectedTutorial;return React.createElement(Container,{className:\"mt-5\"},React.createElement(\"div\",{className:\"mb-4 d-flex align-items-center search-container\"},React.createElement(Form.Control,{type:\"text\",placeholder:\"Buscar por t\\xEDtulo...\",value:searchTitle,onChange:this.onChangeSearchTitle,className:\"search-input\"}),React.createElement(Button,{variant:\"primary\",className:\"ms-2 search-btn\",onClick:this.searchTitle},React.createElement(\"img\",{src:buscar1,alt:\"Buscar\",className:\"search-icon\"}))),tutorials.length===0?React.createElement(\"div\",{className:\"text-center\"},React.createElement(\"h5\",{className:\"c\"},\"No hay tutoriales disponibles.\")):React.createElement(Table,{borderless:true,className:\"modern-table\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"T\\xEDtulo\"))),React.createElement(\"tbody\",null,tutorials.map(function(tutorial,index){return React.createElement(React.Fragment,{key:tutorial.id},React.createElement(\"tr\",{onClick:function onClick(){return _this2.setActiveTutorial(tutorial,index);},className:\"table-row\"},React.createElement(\"td\",null,tutorial.title)),React.createElement(AnimatePresence,null,currentIndex===index&&React.createElement(motion.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.3},className:\"detail-row\"},React.createElement(\"td\",{colSpan:\"2\"},React.createElement(\"div\",{className:\"detail-content\"},React.createElement(\"p\",null,React.createElement(\"strong\",null,\"Descripci\\xF3n:\"),\" \",tutorial.description),React.createElement(\"p\",null,React.createElement(\"strong\",null,\"Estado:\"),\" \",tutorial.published?\"Publicado\":\"Pendiente\"),React.createElement(Button,{variant:\"link\",onClick:function onClick(){return _this2.showMoreInfo(tutorial);},className:\"mt-2\"},\"Ver m\\xE1s\"))))));}))),React.createElement(Modal,{show:showModal,onHide:this.handleCloseModal,size:\"sm\"// Modal más pequeño\n,centered:true,className:\"custom-modal\"// Clase adicional para personalizar más el tamaño\n},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,selectedTutorial?selectedTutorial.title:'')),React.createElement(Modal.Body,null,selectedTutorial&&React.createElement(\"div\",null,React.createElement(\"div\",{className:\"detail-item\"},selectedTutorial.url&&React.createElement(\"img\",{src:selectedTutorial.url,alt:\"Imagen del tutorial\",className:\"tutorial-image\"})),React.createElement(\"div\",{className:\"detail-item\"},React.createElement(\"strong\",null,\"Impartido por:\"),\" \",selectedTutorial.persona||\"No disponible\"))),React.createElement(Modal.Footer,null,React.createElement(Button,{variant:\"danger\",onClick:this.handleCloseModal},\"Cerrar\"))));}}]);return TutorialsList;}(Component);export{TutorialsList as default};","map":{"version":3,"sources":["/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/src/components/Tutoriales.js"],"names":["React","Component","TutorialDataService","Container","Table","Button","Form","Modal","motion","AnimatePresence","buscar1","TutorialsList","props","onChangeSearchTitle","e","setState","searchTitle","target","value","retrieveTutorials","getAllTutorials","then","response","tutorials","data","catch","console","log","findByTitle","state","currentTutorial","currentIndex","setActiveTutorial","tutorial","index","showMoreInfo","showModal","selectedTutorial","handleCloseModal","location","tutoriales","length","map","id","title","opacity","y","duration","description","published","url","persona"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../styles/Tutoriales.css\";\nimport { Container, Table, Button, Form, Modal } from \"react-bootstrap\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport buscar1 from \"../assets/buscar1.png\"\n\nexport default class TutorialsList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tutorials: [], // Lista de tutoriales\n      currentTutorial: null,\n      currentIndex: -1,\n      searchTitle: \"\",\n      showModal: false, // Controla la visibilidad del modal\n      selectedTutorial: null, // Guarda el tutorial seleccionado para mostrar en el modal\n    };\n  }\n\n  // Cuando el componente se monta, recibe los tutoriales pasados en el state o hace la consulta\n  componentDidMount() {\n    const { location } = this.props;\n    if (location.state && location.state.tutoriales) {\n      console.log(\"Tutoriales recibidos en TutorialsList:\", location.state.tutoriales);\n      this.setState({ tutorials: location.state.tutoriales });\n    } else {\n      console.log(\"No se recibieron tutoriales en state.\");\n      this.retrieveTutorials(); // Si no se reciben, hace la consulta\n    }\n  }\n\n  // Cambiar el valor de la búsqueda\n  onChangeSearchTitle = (e) => {\n    this.setState({ searchTitle: e.target.value });\n  };\n\n  // Llamada al servicio para recuperar todos los tutoriales\n  retrieveTutorials = () => {\n    TutorialDataService.getAllTutorials()\n      .then(response => {\n        this.setState({ tutorials: response.data });\n      })\n      .catch(e => console.log(e));\n  };\n\n  // Función de búsqueda por título\n  searchTitle = () => {\n    TutorialDataService.findByTitle(this.state.searchTitle)\n      .then(response => {\n        this.setState({\n          tutorials: response.data,\n          currentTutorial: null,\n          currentIndex: -1\n        });\n      })\n      .catch(e => console.log(e));\n  };\n\n  // Establecer tutorial activo\n  setActiveTutorial = (tutorial, index) => {\n    this.setState({\n      currentTutorial: this.state.currentIndex === index ? null : tutorial,\n      currentIndex: this.state.currentIndex === index ? -1 : index,\n    });\n  };\n\n  // Mostrar información más detallada en el modal\n  showMoreInfo = (tutorial) => {\n    this.setState({\n      showModal: true,\n      selectedTutorial: tutorial,\n    });\n  };\n\n  // Cerrar el modal\n  handleCloseModal = () => {\n    this.setState({\n      showModal: false,\n      selectedTutorial: null,\n    });\n  };\n\n  render() {\n    const { searchTitle, tutorials, currentIndex, showModal, selectedTutorial } = this.state;\n\n    return (\n      <Container className=\"mt-5\">\n        {/* Buscador */}\n        <div className=\"mb-4 d-flex align-items-center search-container\">\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Buscar por título...\"\n            value={searchTitle}\n            onChange={this.onChangeSearchTitle}\n            className=\"search-input\"\n          />\n          <Button variant=\"primary\" className=\"ms-2 search-btn\" onClick={this.searchTitle}>\n          <img src={buscar1} alt=\"Buscar\" className=\"search-icon\" />\n          </Button>\n          \n        </div>\n\n        {tutorials.length === 0 ? (\n          <div className=\"text-center\">\n            <h5 className=\"c\">No hay tutoriales disponibles.</h5>\n          </div>\n        ) : (\n          <Table borderless className=\"modern-table\">\n            <thead>\n              <tr>\n                <th>Título</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tutorials.map((tutorial, index) => (\n                <React.Fragment key={tutorial.id}>\n                  <tr\n                    onClick={() => this.setActiveTutorial(tutorial, index)}\n                    className=\"table-row\"\n                  >\n                    <td>{tutorial.title}</td>\n                  </tr>\n                  <AnimatePresence>\n                    {currentIndex === index && (\n                      <motion.tr\n                        initial={{ opacity: 0, y: -10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -10 }}\n                        transition={{ duration: 0.3 }}\n                        className=\"detail-row\"\n                      >\n                        <td colSpan=\"2\">\n                          <div className=\"detail-content\">\n                            <p><strong>Descripción:</strong> {tutorial.description}</p>\n                            <p>\n                              <strong>Estado:</strong>{\" \"}\n                              {tutorial.published ? \"Publicado\" : \"Pendiente\"}\n                            </p>\n                            \n                            {/* Botón Ver más */}\n                            <Button \n                              variant=\"link\" \n                              onClick={() => this.showMoreInfo(tutorial)} \n                              className=\"mt-2\"\n                            >\n                              Ver más\n                            </Button>\n                          </div>\n                        </td>\n                      </motion.tr>\n                    )}\n                  </AnimatePresence>\n                </React.Fragment>\n              ))}\n            </tbody>\n          </Table>\n        )}\n\n        {/* Modal para mostrar la información detallada */}\n        <Modal\n          show={showModal}\n          onHide={this.handleCloseModal}\n          size=\"sm\"   // Modal más pequeño\n          centered\n          className=\"custom-modal\"  // Clase adicional para personalizar más el tamaño\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>{selectedTutorial ? selectedTutorial.title : ''}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {selectedTutorial && (\n              <div>\n                <div className=\"detail-item\">\n                  {selectedTutorial.url && (\n                    <img \n                      src={selectedTutorial.url} \n                      alt=\"Imagen del tutorial\" \n                      className=\"tutorial-image\" \n                    />\n                  )}\n                </div>\n                <div className=\"detail-item\">\n                  <strong>Impartido por:</strong> {selectedTutorial.persona || \"No disponible\"}\n                </div>\n              </div>\n            )}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"danger\" onClick={this.handleCloseModal}>\n              Cerrar\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}