{"ast":null,"code":"var _jsxFileName = \"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/src/components/A\\xF1adir.js\";\nimport React, { useState, useEffect } from 'react';\nimport AgendaDataService from '../services/agenda.service';\nimport TutorialDataService from '../services/tutorial.service';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Form, Button, Row, Col, Container, Card, Modal, ListGroup } from 'react-bootstrap';\nimport \"../styles/Añadir.css\";\n\nfunction Añadir() {\n  // Estado para los datos de la persona\n  const [persona, setPersona] = useState({\n    nombre: '',\n    apellido: '',\n    direccion: '',\n    codigoPostal: '',\n    ciudad: '',\n    fechaNacimiento: '',\n    // Campo para guardar los tutoriales asignados\n    tutoriales: []\n  }); // Estados para la selección de tutoriales\n\n  const [availableTutorials, setAvailableTutorials] = useState([]);\n  const [selectedTutorials, setSelectedTutorials] = useState([]);\n  const [showTutorialModal, setShowTutorialModal] = useState(false); // Cargar los tutoriales disponibles cuando el componente se monte\n\n  useEffect(() => {\n    TutorialDataService.getAllTutorials().then(response => {\n      setAvailableTutorials(response.data);\n    }).catch(error => {\n      console.error('Error al cargar tutoriales:', error);\n    });\n  }, []); // Función para agregar persona\n\n  const agregarPersona = e => {\n    e.preventDefault(); // Combinar los datos de la persona con los tutoriales seleccionados\n\n    const personaData = { ...persona,\n      tutoriales: selectedTutorials\n    };\n\n    if (!personaData.fechaNacimiento) {\n      console.log(\"Error: La fecha de nacimiento es obligatoria.\");\n      return;\n    } // Llamada al servicio para crear persona\n\n\n    AgendaDataService.createPersona(personaData).then(response => {\n      console.log('Persona agregada:', response.data);\n    }).catch(error => {\n      console.error('Error al agregar persona:', error);\n    });\n  }; // Manejar cambios en los campos del formulario\n\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPersona({ ...persona,\n      [name]: value\n    });\n  }; // Función para alternar la selección de tutoriales\n\n\n  const toggleTutorialSelection = tutorialId => {\n    if (selectedTutorials.includes(tutorialId)) {\n      setSelectedTutorials(selectedTutorials.filter(id => id !== tutorialId));\n    } else {\n      setSelectedTutorials([...selectedTutorials, tutorialId]);\n    }\n  };\n\n  const openTutorialModal = () => setShowTutorialModal(true);\n\n  const closeTutorialModal = () => setShowTutorialModal(false);\n\n  return React.createElement(Container, {\n    className: \"d-flex justify-content-center align-items-center\",\n    style: {\n      minHeight: 'calc(100vh - 56px)',\n      fontFamily: \"'Poppins', sans-serif\",\n      marginTop: '2rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      width: '100%',\n      maxWidth: '600px',\n      padding: '2rem',\n      borderRadius: '20px',\n      boxShadow: '0 10px 20px rgba(0, 0, 0, 0.1)'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"mb-4 text-center\",\n    style: {\n      fontWeight: 'bold',\n      color: '#125b96'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"A\\xF1adir Persona\"), React.createElement(Form, {\n    onSubmit: agregarPersona,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Row, {\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"nombre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Nombre\"), React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Introduce nombre\",\n    name: \"nombre\",\n    value: persona.nombre,\n    onChange: handleChange,\n    className: \"form-control-custom\" // Cambié esta línea\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"apellido\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Apellido\"), React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Introduce apellido\",\n    name: \"apellido\",\n    value: persona.apellido,\n    onChange: handleChange,\n    className: \"form-control-custom\" // Cambié esta línea\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }))), React.createElement(Form.Group, {\n    controlId: \"direccion\",\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"Direcci\\xF3n\"), React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Introduce direcci\\xF3n\",\n    name: \"direccion\",\n    value: persona.direccion,\n    onChange: handleChange,\n    className: \"form-control-custom\" // Cambié esta línea\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(Row, {\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"codigoPostal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"C\\xF3digo Postal\"), React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Introduce c\\xF3digo postal\",\n    name: \"codigoPostal\",\n    value: persona.codigoPostal,\n    onChange: handleChange,\n    className: \"form-control-custom\" // Cambié esta línea\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"ciudad\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Ciudad\"), React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Introduce ciudad\",\n    name: \"nombre\",\n    value: persona.ciudad,\n    onChange: handleChange,\n    className: \"form-control-custom\" // Cambié esta línea\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }))), React.createElement(Form.Group, {\n    controlId: \"fechaNacimiento\",\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Fecha de Nacimiento\"), React.createElement(Form.Control, {\n    type: \"date\",\n    name: \"fechaNacimiento\",\n    value: persona.fechaNacimiento,\n    onChange: handleChange,\n    className: \"form-control-custom\" // Cambié esta línea\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    className: \"mb-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    style: {\n      fontWeight: '600'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Tutoriales asignados\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, selectedTutorials.length > 0 ? `Seleccionados: ${selectedTutorials.title.join(\", \")}` : \"Ningún tutorial seleccionado\"), React.createElement(Button, {\n    className: \"button-custom mt-2\",\n    onClick: openTutorialModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"Seleccionar Tutoriales\")), React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    className: \"w-100\",\n    style: {\n      borderRadius: '10px',\n      fontWeight: '600',\n      padding: '12px',\n      fontSize: '1rem',\n      backgroundColor: '#125b96',\n      borderColor: '#125b96',\n      transition: 'all 0.3s ease'\n    },\n    onMouseEnter: e => e.target.style.backgroundColor = '#007bff',\n    onMouseLeave: e => e.target.style.backgroundColor = '#125b96',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"A\\xF1adir\"))), React.createElement(Modal, {\n    show: showTutorialModal,\n    onHide: closeTutorialModal,\n    centered: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, \"Seleccionar Tutoriales\")), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"tutorials-grid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, availableTutorials.map(tutorial => React.createElement(\"div\", {\n    key: tutorial.id,\n    className: `tutorial-card ${selectedTutorials.includes(tutorial.id) ? \"selected\" : \"\"}`,\n    onClick: () => toggleTutorialSelection(tutorial.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"tutorial-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, tutorial.title), React.createElement(\"p\", {\n    className: \"tutorial-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, tutorial.description || \"Sin descripción\"))))), React.createElement(Modal.Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"primary\",\n    onClick: closeTutorialModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \"Confirmar selecci\\xF3n\"))));\n}\n\nexport default Añadir;","map":{"version":3,"sources":["/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/src/components/Añadir.js"],"names":["React","useState","useEffect","AgendaDataService","TutorialDataService","Form","Button","Row","Col","Container","Card","Modal","ListGroup","Añadir","persona","setPersona","nombre","apellido","direccion","codigoPostal","ciudad","fechaNacimiento","tutoriales","availableTutorials","setAvailableTutorials","selectedTutorials","setSelectedTutorials","showTutorialModal","setShowTutorialModal","getAllTutorials","then","response","data","catch","error","console","agregarPersona","e","preventDefault","personaData","log","createPersona","handleChange","name","value","target","toggleTutorialSelection","tutorialId","includes","filter","id","openTutorialModal","closeTutorialModal","minHeight","fontFamily","marginTop","width","maxWidth","padding","borderRadius","boxShadow","fontWeight","color","length","title","join","fontSize","backgroundColor","borderColor","transition","style","map","tutorial","description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport AgendaDataService from '../services/agenda.service';\nimport TutorialDataService from '../services/tutorial.service';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Form, Button, Row, Col, Container, Card, Modal, ListGroup } from 'react-bootstrap';\nimport \"../styles/Añadir.css\";\n\nfunction Añadir() {\n  // Estado para los datos de la persona\n  const [persona, setPersona] = useState({\n    nombre: '',\n    apellido: '',\n    direccion: '',\n    codigoPostal: '',\n    ciudad: '',\n    fechaNacimiento: '',\n    // Campo para guardar los tutoriales asignados\n    tutoriales: []\n  });\n\n  // Estados para la selección de tutoriales\n  const [availableTutorials, setAvailableTutorials] = useState([]);\n  const [selectedTutorials, setSelectedTutorials] = useState([]);\n  const [showTutorialModal, setShowTutorialModal] = useState(false);\n\n  // Cargar los tutoriales disponibles cuando el componente se monte\n  useEffect(() => {\n    TutorialDataService.getAllTutorials()\n      .then((response) => {\n        setAvailableTutorials(response.data);\n      })\n      .catch((error) => {\n        console.error('Error al cargar tutoriales:', error);\n      });\n  }, []);\n\n  // Función para agregar persona\n  const agregarPersona = (e) => {\n    e.preventDefault();\n\n    // Combinar los datos de la persona con los tutoriales seleccionados\n    const personaData = { ...persona, tutoriales: selectedTutorials };\n\n    if (!personaData.fechaNacimiento) {\n      console.log(\"Error: La fecha de nacimiento es obligatoria.\");\n      return;\n    }\n\n    // Llamada al servicio para crear persona\n    AgendaDataService.createPersona(personaData)\n      .then((response) => {\n        console.log('Persona agregada:', response.data);\n      })\n      .catch((error) => {\n        console.error('Error al agregar persona:', error);\n      });\n  };\n\n  // Manejar cambios en los campos del formulario\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setPersona({\n      ...persona,\n      [name]: value,\n    });\n  };\n\n  // Función para alternar la selección de tutoriales\n  const toggleTutorialSelection = (tutorialId) => {\n    if (selectedTutorials.includes(tutorialId)) {\n      setSelectedTutorials(selectedTutorials.filter(id => id !== tutorialId));\n    } else {\n      setSelectedTutorials([...selectedTutorials, tutorialId]);\n    }\n  };\n\n  const openTutorialModal = () => setShowTutorialModal(true);\n  const closeTutorialModal = () => setShowTutorialModal(false);\n\n  return (\n    <Container\n      className=\"d-flex justify-content-center align-items-center\"\n      style={{\n        minHeight: 'calc(100vh - 56px)',\n        fontFamily: \"'Poppins', sans-serif\",\n        marginTop: '2rem',\n      }}\n    >\n      <Card style={{ width: '100%', maxWidth: '600px', padding: '2rem', borderRadius: '20px', boxShadow: '0 10px 20px rgba(0, 0, 0, 0.1)' }}>\n        <h3 className=\"mb-4 text-center\" style={{ fontWeight: 'bold', color: '#125b96' }}>\n          Añadir Persona\n        </h3>\n        <Form onSubmit={agregarPersona}>\n          <Row className=\"mb-4\">\n            <Form.Group as={Col} controlId=\"nombre\">\n              <Form.Label style={{ fontWeight: '600' }}>Nombre</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Introduce nombre\"\n                name=\"nombre\"\n                value={persona.nombre}\n                onChange={handleChange}\n                className=\"form-control-custom\"  // Cambié esta línea\n\n              />\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"apellido\">\n              <Form.Label style={{ fontWeight: '600' }}>Apellido</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Introduce apellido\"\n                name=\"apellido\"\n                value={persona.apellido}\n                onChange={handleChange}\n                className=\"form-control-custom\"  // Cambié esta línea\n\n              />\n            </Form.Group>\n          </Row>\n\n          <Form.Group controlId=\"direccion\" className=\"mb-4\">\n            <Form.Label style={{ fontWeight: '600' }}>Dirección</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Introduce dirección\"\n              name=\"direccion\"\n              value={persona.direccion}\n              onChange={handleChange}\n              className=\"form-control-custom\"  // Cambié esta línea\n\n            />\n          </Form.Group>\n\n          <Row className=\"mb-4\">\n            <Form.Group as={Col} controlId=\"codigoPostal\">\n              <Form.Label style={{ fontWeight: '600' }}>Código Postal</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Introduce código postal\"\n                name=\"codigoPostal\"\n                value={persona.codigoPostal}\n                onChange={handleChange}\n                className=\"form-control-custom\"  // Cambié esta línea\n\n              />\n            </Form.Group>\n            <Form.Group as={Col} controlId=\"ciudad\">\n              <Form.Label style={{ fontWeight: '600' }}>Ciudad</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Introduce ciudad\"\n                name=\"nombre\"\n                value={persona.ciudad}\n                onChange={handleChange}\n                className=\"form-control-custom\"  // Cambié esta línea\n              />\n\n            </Form.Group>\n          </Row>\n\n          <Form.Group controlId=\"fechaNacimiento\" className=\"mb-4\">\n            <Form.Label style={{ fontWeight: '600' }}>Fecha de Nacimiento</Form.Label>\n            <Form.Control\n              type=\"date\"\n              name=\"fechaNacimiento\"\n              value={persona.fechaNacimiento}\n              onChange={handleChange}\n              className=\"form-control-custom\"  // Cambié esta línea\n\n            />\n          </Form.Group>\n\n          {/* Campo para seleccionar tutoriales */}\n          <Form.Group className=\"mb-4\">\n            <Form.Label style={{ fontWeight: '600' }}>Tutoriales asignados</Form.Label>\n            <div>\n              {selectedTutorials.length > 0\n                ? `Seleccionados: ${selectedTutorials.title.join(\", \")}`\n                : \"Ningún tutorial seleccionado\"}\n            </div>\n            <Button className=\"button-custom mt-2\" onClick={openTutorialModal}>\n                Seleccionar Tutoriales\n              </Button>\n\n          </Form.Group>\n\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            className=\"w-100\"\n            style={{\n              borderRadius: '10px',\n              fontWeight: '600',\n              padding: '12px',\n              fontSize: '1rem',\n              backgroundColor: '#125b96',\n              borderColor: '#125b96',\n              transition: 'all 0.3s ease',\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = '#007bff')}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = '#125b96')}\n          >\n            Añadir\n          </Button>\n        </Form>\n      </Card>\n\n      {/* Modal para seleccionar tutoriales */}\n      <Modal show={showTutorialModal} onHide={closeTutorialModal} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Seleccionar Tutoriales</Modal.Title>\n        </Modal.Header>\n            <Modal.Body>\n        <div className=\"tutorials-grid\">\n          {availableTutorials.map((tutorial) => (\n            <div\n              key={tutorial.id}\n              className={`tutorial-card ${selectedTutorials.includes(tutorial.id) ? \"selected\" : \"\"}`}\n              onClick={() => toggleTutorialSelection(tutorial.id)}\n            >\n              <h5 className=\"tutorial-title\">{tutorial.title}</h5>\n              <p className=\"tutorial-description\">{tutorial.description || \"Sin descripción\"}</p>\n            </div>\n          ))}\n        </div>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"primary\" onClick={closeTutorialModal}>\n          Confirmar selección\n        </Button>\n</Modal.Footer>\n\n      </Modal>\n    </Container>\n  );\n}\n\nexport default Añadir;\n"]},"metadata":{},"sourceType":"module"}