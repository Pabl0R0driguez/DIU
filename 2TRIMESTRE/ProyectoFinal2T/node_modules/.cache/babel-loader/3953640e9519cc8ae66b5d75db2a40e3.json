{"ast":null,"code":"var _jsxFileName = \"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/src/components/Tutoriales.js\";\nimport React, { Component } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../styles/Tutoriales.css\";\nimport { Container, Table, Button, Form, Modal } from \"react-bootstrap\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport buscar1 from \"../assets/buscar1.png\";\nexport default class TutorialsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeSearchTitle = e => {\n      this.setState({\n        searchTitle: e.target.value\n      });\n    };\n\n    this.retrieveTutorials = () => {\n      TutorialDataService.getAllTutorials().then(response => {\n        this.setState({\n          tutorials: response.data\n        });\n      }).catch(e => console.log(e));\n    };\n\n    this.searchTitle = () => {\n      TutorialDataService.findByTitle(this.state.searchTitle).then(response => {\n        this.setState({\n          tutorials: response.data,\n          currentTutorial: null,\n          currentIndex: -1\n        });\n      }).catch(e => console.log(e));\n    };\n\n    this.setActiveTutorial = (tutorial, index) => {\n      this.setState({\n        currentTutorial: this.state.currentIndex === index ? null : tutorial,\n        currentIndex: this.state.currentIndex === index ? -1 : index\n      });\n    };\n\n    this.showMoreInfo = tutorial => {\n      this.setState({\n        showModal: true,\n        selectedTutorial: tutorial\n      });\n    };\n\n    this.handleCloseModal = () => {\n      this.setState({\n        showModal: false,\n        selectedTutorial: null\n      });\n    };\n\n    this.state = {\n      tutorials: [],\n      // Lista de tutoriales\n      currentTutorial: null,\n      currentIndex: -1,\n      searchTitle: \"\",\n      showModal: false,\n      // Controla la visibilidad del modal\n      selectedTutorial: null // Guarda el tutorial seleccionado para mostrar en el modal\n\n    };\n  } // Cuando el componente se monta, recibe los tutoriales pasados en el state o hace la consulta\n\n\n  componentDidMount() {\n    const {\n      location\n    } = this.props;\n\n    if (location.state && location.state.tutoriales) {\n      console.log(\"Tutoriales recibidos en TutorialsList:\", location.state.tutoriales);\n      this.setState({\n        tutorials: location.state.tutoriales\n      });\n    } else {\n      console.log(\"No se recibieron tutoriales en state.\");\n      this.retrieveTutorials(); // Si no se reciben, hace la consulta\n    }\n  } // Cambiar el valor de la búsqueda\n\n\n  render() {\n    const {\n      searchTitle,\n      tutorials,\n      currentIndex,\n      showModal,\n      selectedTutorial\n    } = this.state;\n    return React.createElement(Container, {\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mb-4 d-flex align-items-center search-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Buscar por t\\xEDtulo...\",\n      value: searchTitle,\n      onChange: this.onChangeSearchTitle,\n      className: \"search-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"primary\",\n      className: \"ms-2 search-btn\",\n      onClick: this.searchTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: buscar1,\n      alt: \"Buscar\",\n      className: \"search-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }))), tutorials.length === 0 ? React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"No hay tutoriales disponibles.\")) : React.createElement(Table, {\n      borderless: true,\n      className: \"modern-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"T\\xEDtulo\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, tutorials.map((tutorial, index) => React.createElement(React.Fragment, {\n      key: tutorial.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      onClick: () => this.setActiveTutorial(tutorial, index),\n      className: \"table-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, tutorial.title)), React.createElement(AnimatePresence, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, currentIndex === index && React.createElement(motion.tr, {\n      initial: {\n        opacity: 0,\n        y: -10\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      exit: {\n        opacity: 0,\n        y: -10\n      },\n      transition: {\n        duration: 0.3\n      },\n      className: \"detail-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"detail-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Descripci\\xF3n:\"), \" \", tutorial.description), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Estado:\"), \" \", tutorial.published ? \"Publicado\" : \"Pendiente\"), React.createElement(Button, {\n      variant: \"link\",\n      onClick: () => this.showMoreInfo(tutorial),\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Ver m\\xE1s\"))))))))), React.createElement(Modal, {\n      show: showModal,\n      onHide: this.handleCloseModal,\n      size: \"sm\" // Modal más pequeño\n      ,\n      centered: true,\n      className: \"custom-modal\" // Clase adicional para personalizar más el tamaño\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, selectedTutorial ? selectedTutorial.title : '')), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, selectedTutorial && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"detail-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, selectedTutorial.url && React.createElement(\"img\", {\n      src: selectedTutorial.url,\n      alt: \"Imagen del tutorial\",\n      className: \"tutorial-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"detail-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Impartido por:\"), \" \", selectedTutorial.persona || \"No disponible\"))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"danger\",\n      onClick: this.handleCloseModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Cerrar\"))));\n  }\n\n}","map":{"version":3,"sources":["/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/src/components/Tutoriales.js"],"names":["React","Component","TutorialDataService","Container","Table","Button","Form","Modal","motion","AnimatePresence","buscar1","TutorialsList","constructor","props","onChangeSearchTitle","e","setState","searchTitle","target","value","retrieveTutorials","getAllTutorials","then","response","tutorials","data","catch","console","log","findByTitle","state","currentTutorial","currentIndex","setActiveTutorial","tutorial","index","showMoreInfo","showModal","selectedTutorial","handleCloseModal","componentDidMount","location","tutoriales","render","length","map","id","title","opacity","y","duration","description","published","url","persona"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../styles/Tutoriales.css\";\nimport { Container, Table, Button, Form, Modal } from \"react-bootstrap\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport buscar1 from \"../assets/buscar1.png\"\n\nexport default class TutorialsList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tutorials: [], // Lista de tutoriales\n      currentTutorial: null,\n      currentIndex: -1,\n      searchTitle: \"\",\n      showModal: false, // Controla la visibilidad del modal\n      selectedTutorial: null, // Guarda el tutorial seleccionado para mostrar en el modal\n    };\n  }\n\n  // Cuando el componente se monta, recibe los tutoriales pasados en el state o hace la consulta\n  componentDidMount() {\n    const { location } = this.props;\n    if (location.state && location.state.tutoriales) {\n      console.log(\"Tutoriales recibidos en TutorialsList:\", location.state.tutoriales);\n      this.setState({ tutorials: location.state.tutoriales });\n    } else {\n      console.log(\"No se recibieron tutoriales en state.\");\n      this.retrieveTutorials(); // Si no se reciben, hace la consulta\n    }\n  }\n\n  // Cambiar el valor de la búsqueda\n  onChangeSearchTitle = (e) => {\n    this.setState({ searchTitle: e.target.value });\n  };\n\n  // Llamada al servicio para recuperar todos los tutoriales\n  retrieveTutorials = () => {\n    TutorialDataService.getAllTutorials()\n      .then(response => {\n        this.setState({ tutorials: response.data });\n      })\n      .catch(e => console.log(e));\n  };\n\n  // Función de búsqueda por título\n  searchTitle = () => {\n    TutorialDataService.findByTitle(this.state.searchTitle)\n      .then(response => {\n        this.setState({\n          tutorials: response.data,\n          currentTutorial: null,\n          currentIndex: -1\n        });\n      })\n      .catch(e => console.log(e));\n  };\n\n  // Establecer tutorial activo\n  setActiveTutorial = (tutorial, index) => {\n    this.setState({\n      currentTutorial: this.state.currentIndex === index ? null : tutorial,\n      currentIndex: this.state.currentIndex === index ? -1 : index,\n    });\n  };\n\n  // Mostrar información más detallada en el modal\n  showMoreInfo = (tutorial) => {\n    this.setState({\n      showModal: true,\n      selectedTutorial: tutorial,\n    });\n  };\n\n  // Cerrar el modal\n  handleCloseModal = () => {\n    this.setState({\n      showModal: false,\n      selectedTutorial: null,\n    });\n  };\n\n  render() {\n    const { searchTitle, tutorials, currentIndex, showModal, selectedTutorial } = this.state;\n\n    return (\n      <Container className=\"mt-5\">\n        {/* Buscador */}\n        <div className=\"mb-4 d-flex align-items-center search-container\">\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Buscar por título...\"\n            value={searchTitle}\n            onChange={this.onChangeSearchTitle}\n            className=\"search-input\"\n          />\n          <Button variant=\"primary\" className=\"ms-2 search-btn\" onClick={this.searchTitle}>\n          <img src={buscar1} alt=\"Buscar\" className=\"search-icon\" />\n          </Button>\n          \n        </div>\n\n        {tutorials.length === 0 ? (\n          <div className=\"text-center\">\n            <h5 className=\"c\">No hay tutoriales disponibles.</h5>\n          </div>\n        ) : (\n          <Table borderless className=\"modern-table\">\n            <thead>\n              <tr>\n                <th>Título</th>\n              </tr>\n            </thead>\n            <tbody>\n              {tutorials.map((tutorial, index) => (\n                <React.Fragment key={tutorial.id}>\n                  <tr\n                    onClick={() => this.setActiveTutorial(tutorial, index)}\n                    className=\"table-row\"\n                  >\n                    <td>{tutorial.title}</td>\n                  </tr>\n                  <AnimatePresence>\n                    {currentIndex === index && (\n                      <motion.tr\n                        initial={{ opacity: 0, y: -10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -10 }}\n                        transition={{ duration: 0.3 }}\n                        className=\"detail-row\"\n                      >\n                        <td colSpan=\"2\">\n                          <div className=\"detail-content\">\n                            <p><strong>Descripción:</strong> {tutorial.description}</p>\n                            <p>\n                              <strong>Estado:</strong>{\" \"}\n                              {tutorial.published ? \"Publicado\" : \"Pendiente\"}\n                            </p>\n                            \n                            {/* Botón Ver más */}\n                            <Button \n                              variant=\"link\" \n                              onClick={() => this.showMoreInfo(tutorial)} \n                              className=\"mt-2\"\n                            >\n                              Ver más\n                            </Button>\n                          </div>\n                        </td>\n                      </motion.tr>\n                    )}\n                  </AnimatePresence>\n                </React.Fragment>\n              ))}\n            </tbody>\n          </Table>\n        )}\n\n        {/* Modal para mostrar la información detallada */}\n        <Modal\n          show={showModal}\n          onHide={this.handleCloseModal}\n          size=\"sm\"   // Modal más pequeño\n          centered\n          className=\"custom-modal\"  // Clase adicional para personalizar más el tamaño\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>{selectedTutorial ? selectedTutorial.title : ''}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {selectedTutorial && (\n              <div>\n                <div className=\"detail-item\">\n                  {selectedTutorial.url && (\n                    <img \n                      src={selectedTutorial.url} \n                      alt=\"Imagen del tutorial\" \n                      className=\"tutorial-image\" \n                    />\n                  )}\n                </div>\n                <div className=\"detail-item\">\n                  <strong>Impartido por:</strong> {selectedTutorial.persona || \"No disponible\"}\n                </div>\n              </div>\n            )}\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"danger\" onClick={this.handleCloseModal}>\n              Cerrar\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}