{"ast":null,"code":"import _slicedToArray from \"/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"show\", \"role\", \"className\", \"style\", \"children\", \"backdrop\", \"keyboard\", \"onBackdropClick\", \"onEscapeKeyDown\", \"transition\", \"runTransition\", \"backdropTransition\", \"runBackdropTransition\", \"autoFocus\", \"enforceFocus\", \"restoreFocus\", \"restoreFocusOptions\", \"renderDialog\", \"renderBackdrop\", \"manager\", \"container\", \"onShow\", \"onHide\", \"onExit\", \"onExited\", \"onExiting\", \"onEnter\", \"onEntering\", \"onEntered\"];\n\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n\n  for (var n in r) {\n    if ({}.hasOwnProperty.call(r, n)) {\n      if (e.indexOf(n) >= 0) continue;\n      t[n] = r[n];\n    }\n  }\n\n  return t;\n}\n/* eslint-disable @typescript-eslint/no-use-before-define, react/prop-types */\n\n\nimport activeElement from 'dom-helpers/activeElement';\nimport contains from 'dom-helpers/contains';\nimport canUseDOM from 'dom-helpers/canUseDOM';\nimport listen from 'dom-helpers/listen';\nimport { useState, useRef, useCallback, useImperativeHandle, forwardRef, useEffect } from 'react';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport useMounted from '@restart/hooks/useMounted';\nimport useWillUnmount from '@restart/hooks/useWillUnmount';\nimport usePrevious from '@restart/hooks/usePrevious';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport ModalManager from './ModalManager';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nimport useWindow from './useWindow';\nimport { renderTransition } from './ImperativeTransition';\nimport { isEscKey } from './utils';\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar manager;\n/*\n  Modal props are split into a version with and without index signature so that you can fully use them in another projects\n  This is due to Typescript not playing well with index signatures e.g. when using Omit\n*/\n\nfunction getManager(window) {\n  if (!manager) manager = new ModalManager({\n    ownerDocument: window == null ? void 0 : window.document\n  });\n  return manager;\n}\n\nfunction useModalManager(provided) {\n  var window = useWindow();\n  var modalManager = provided || getManager(window);\n  var modal = useRef({\n    dialog: null,\n    backdrop: null\n  });\n  return Object.assign(modal.current, {\n    add: function add() {\n      return modalManager.add(modal.current);\n    },\n    remove: function remove() {\n      return modalManager.remove(modal.current);\n    },\n    isTopModal: function isTopModal() {\n      return modalManager.isTopModal(modal.current);\n    },\n    setDialogRef: useCallback(function (ref) {\n      modal.current.dialog = ref;\n    }, []),\n    setBackdropRef: useCallback(function (ref) {\n      modal.current.backdrop = ref;\n    }, [])\n  });\n}\n\nvar Modal = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$show = _ref.show,\n      show = _ref$show === void 0 ? false : _ref$show,\n      _ref$role = _ref.role,\n      role = _ref$role === void 0 ? 'dialog' : _ref$role,\n      className = _ref.className,\n      style = _ref.style,\n      children = _ref.children,\n      _ref$backdrop = _ref.backdrop,\n      backdrop = _ref$backdrop === void 0 ? true : _ref$backdrop,\n      _ref$keyboard = _ref.keyboard,\n      keyboard = _ref$keyboard === void 0 ? true : _ref$keyboard,\n      onBackdropClick = _ref.onBackdropClick,\n      onEscapeKeyDown = _ref.onEscapeKeyDown,\n      transition = _ref.transition,\n      runTransition = _ref.runTransition,\n      backdropTransition = _ref.backdropTransition,\n      runBackdropTransition = _ref.runBackdropTransition,\n      _ref$autoFocus = _ref.autoFocus,\n      autoFocus = _ref$autoFocus === void 0 ? true : _ref$autoFocus,\n      _ref$enforceFocus = _ref.enforceFocus,\n      enforceFocus = _ref$enforceFocus === void 0 ? true : _ref$enforceFocus,\n      _ref$restoreFocus = _ref.restoreFocus,\n      restoreFocus = _ref$restoreFocus === void 0 ? true : _ref$restoreFocus,\n      restoreFocusOptions = _ref.restoreFocusOptions,\n      renderDialog = _ref.renderDialog,\n      _ref$renderBackdrop = _ref.renderBackdrop,\n      renderBackdrop = _ref$renderBackdrop === void 0 ? function (props) {\n    return (/*#__PURE__*/_jsx(\"div\", Object.assign({}, props))\n    );\n  } : _ref$renderBackdrop,\n      providedManager = _ref.manager,\n      containerRef = _ref.container,\n      onShow = _ref.onShow,\n      _ref$onHide = _ref.onHide,\n      onHide = _ref$onHide === void 0 ? function () {} : _ref$onHide,\n      onExit = _ref.onExit,\n      onExited = _ref.onExited,\n      onExiting = _ref.onExiting,\n      onEnter = _ref.onEnter,\n      onEntering = _ref.onEntering,\n      onEntered = _ref.onEntered,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var ownerWindow = useWindow();\n  var container = useWaitForDOMRef(containerRef);\n  var modal = useModalManager(providedManager);\n  var isMounted = useMounted();\n  var prevShow = usePrevious(show);\n\n  var _useState = useState(!show),\n      _useState2 = _slicedToArray(_useState, 2),\n      exited = _useState2[0],\n      setExited = _useState2[1];\n\n  var lastFocusRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return modal;\n  }, [modal]);\n\n  if (canUseDOM && !prevShow && show) {\n    lastFocusRef.current = activeElement(ownerWindow == null ? void 0 : ownerWindow.document);\n  } // TODO: I think this needs to be in an effect\n\n\n  if (show && exited) {\n    setExited(false);\n  }\n\n  var handleShow = useEventCallback(function () {\n    modal.add();\n    removeKeydownListenerRef.current = listen(document, 'keydown', handleDocumentKeyDown);\n    removeFocusListenerRef.current = listen(document, 'focus', // the timeout is necessary b/c this will run before the new modal is mounted\n    // and so steals focus from it\n    function () {\n      return setTimeout(handleEnforceFocus);\n    }, true);\n\n    if (onShow) {\n      onShow();\n    } // autofocus after onShow to not trigger a focus event for previous\n    // modals before this one is shown.\n\n\n    if (autoFocus) {\n      var _modal$dialog$ownerDo, _modal$dialog;\n\n      var currentActiveElement = activeElement((_modal$dialog$ownerDo = (_modal$dialog = modal.dialog) == null ? void 0 : _modal$dialog.ownerDocument) != null ? _modal$dialog$ownerDo : ownerWindow == null ? void 0 : ownerWindow.document);\n\n      if (modal.dialog && currentActiveElement && !contains(modal.dialog, currentActiveElement)) {\n        lastFocusRef.current = currentActiveElement;\n        modal.dialog.focus();\n      }\n    }\n  });\n  var handleHide = useEventCallback(function () {\n    modal.remove();\n    removeKeydownListenerRef.current == null ? void 0 : removeKeydownListenerRef.current();\n    removeFocusListenerRef.current == null ? void 0 : removeFocusListenerRef.current();\n\n    if (restoreFocus) {\n      var _lastFocusRef$current; // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n\n\n      (_lastFocusRef$current = lastFocusRef.current) == null ? void 0 : _lastFocusRef$current.focus == null ? void 0 : _lastFocusRef$current.focus(restoreFocusOptions);\n      lastFocusRef.current = null;\n    }\n  }); // TODO: try and combine these effects: https://github.com/react-bootstrap/react-overlays/pull/794#discussion_r409954120\n  // Show logic when:\n  //  - show is `true` _and_ `container` has resolved\n\n  useEffect(function () {\n    if (!show || !container) return;\n    handleShow();\n  }, [show, container,\n  /* should never change: */\n  handleShow]); // Hide cleanup logic when:\n  //  - `exited` switches to true\n  //  - component unmounts;\n\n  useEffect(function () {\n    if (!exited) return;\n    handleHide();\n  }, [exited, handleHide]);\n  useWillUnmount(function () {\n    handleHide();\n  }); // --------------------------------\n\n  var handleEnforceFocus = useEventCallback(function () {\n    if (!enforceFocus || !isMounted() || !modal.isTopModal()) {\n      return;\n    }\n\n    var currentActiveElement = activeElement(ownerWindow == null ? void 0 : ownerWindow.document);\n\n    if (modal.dialog && currentActiveElement && !contains(modal.dialog, currentActiveElement)) {\n      modal.dialog.focus();\n    }\n  });\n  var handleBackdropClick = useEventCallback(function (e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    onBackdropClick == null ? void 0 : onBackdropClick(e);\n\n    if (backdrop === true) {\n      onHide();\n    }\n  });\n  var handleDocumentKeyDown = useEventCallback(function (e) {\n    if (keyboard && isEscKey(e) && modal.isTopModal()) {\n      onEscapeKeyDown == null ? void 0 : onEscapeKeyDown(e);\n\n      if (!e.defaultPrevented) {\n        onHide();\n      }\n    }\n  });\n  var removeFocusListenerRef = useRef();\n  var removeKeydownListenerRef = useRef();\n\n  var handleHidden = function handleHidden() {\n    setExited(true);\n    onExited == null ? void 0 : onExited.apply(void 0, arguments);\n  };\n\n  if (!container) {\n    return null;\n  }\n\n  var dialogProps = Object.assign({\n    role: role,\n    ref: modal.setDialogRef,\n    // apparently only works on the dialog role element\n    'aria-modal': role === 'dialog' ? true : undefined\n  }, rest, {\n    style: style,\n    className: className,\n    tabIndex: -1\n  });\n  var dialog = renderDialog ? renderDialog(dialogProps) : /*#__PURE__*/_jsx(\"div\", Object.assign({}, dialogProps, {\n    children: /*#__PURE__*/React.cloneElement(children, {\n      role: 'document'\n    })\n  }));\n  dialog = renderTransition(transition, runTransition, {\n    unmountOnExit: true,\n    mountOnEnter: true,\n    appear: true,\n    in: !!show,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: handleHidden,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    children: dialog\n  });\n  var backdropElement = null;\n\n  if (backdrop) {\n    backdropElement = renderBackdrop({\n      ref: modal.setBackdropRef,\n      onClick: handleBackdropClick\n    });\n    backdropElement = renderTransition(backdropTransition, runBackdropTransition, {\n      in: !!show,\n      appear: true,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      children: backdropElement\n    });\n  }\n\n  return (/*#__PURE__*/_jsx(_Fragment, {\n      children: /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxs(_Fragment, {\n        children: [backdropElement, dialog]\n      }), container)\n    })\n  );\n});\nModal.displayName = 'Modal';\nexport default Object.assign(Modal, {\n  Manager: ModalManager\n});","map":{"version":3,"sources":["/media/pablo/137624ed-270b-478a-b945-4e982e255fb2/pablo/DIU/2TRIMESTRE/ProyectoFinal2T/FrontAgendav2(Final)/node_modules/@restart/ui/esm/Modal.js"],"names":["_excluded","_objectWithoutPropertiesLoose","r","e","t","n","hasOwnProperty","call","indexOf","activeElement","contains","canUseDOM","listen","useState","useRef","useCallback","useImperativeHandle","forwardRef","useEffect","React","ReactDOM","useMounted","useWillUnmount","usePrevious","useEventCallback","ModalManager","useWaitForDOMRef","useWindow","renderTransition","isEscKey","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","manager","getManager","window","ownerDocument","document","useModalManager","provided","modalManager","modal","dialog","backdrop","Object","assign","current","add","remove","isTopModal","setDialogRef","ref","setBackdropRef","Modal","_ref","show","role","className","style","children","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","props","providedManager","containerRef","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered","rest","ownerWindow","isMounted","prevShow","exited","setExited","lastFocusRef","handleShow","removeKeydownListenerRef","handleDocumentKeyDown","removeFocusListenerRef","setTimeout","handleEnforceFocus","_modal$dialog$ownerDo","_modal$dialog","currentActiveElement","focus","handleHide","_lastFocusRef$current","handleBackdropClick","target","currentTarget","defaultPrevented","handleHidden","dialogProps","undefined","tabIndex","cloneElement","unmountOnExit","mountOnEnter","appear","in","backdropElement","onClick","createPortal","displayName","Manager"],"mappings":"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","sourcesContent":["const _excluded = [\"show\", \"role\", \"className\", \"style\", \"children\", \"backdrop\", \"keyboard\", \"onBackdropClick\", \"onEscapeKeyDown\", \"transition\", \"runTransition\", \"backdropTransition\", \"runBackdropTransition\", \"autoFocus\", \"enforceFocus\", \"restoreFocus\", \"restoreFocusOptions\", \"renderDialog\", \"renderBackdrop\", \"manager\", \"container\", \"onShow\", \"onHide\", \"onExit\", \"onExited\", \"onExiting\", \"onEnter\", \"onEntering\", \"onEntered\"];\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }\n/* eslint-disable @typescript-eslint/no-use-before-define, react/prop-types */\n\nimport activeElement from 'dom-helpers/activeElement';\nimport contains from 'dom-helpers/contains';\nimport canUseDOM from 'dom-helpers/canUseDOM';\nimport listen from 'dom-helpers/listen';\nimport { useState, useRef, useCallback, useImperativeHandle, forwardRef, useEffect } from 'react';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport useMounted from '@restart/hooks/useMounted';\nimport useWillUnmount from '@restart/hooks/useWillUnmount';\nimport usePrevious from '@restart/hooks/usePrevious';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport ModalManager from './ModalManager';\nimport useWaitForDOMRef from './useWaitForDOMRef';\nimport useWindow from './useWindow';\nimport { renderTransition } from './ImperativeTransition';\nimport { isEscKey } from './utils';\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nlet manager;\n\n/*\n  Modal props are split into a version with and without index signature so that you can fully use them in another projects\n  This is due to Typescript not playing well with index signatures e.g. when using Omit\n*/\n\nfunction getManager(window) {\n  if (!manager) manager = new ModalManager({\n    ownerDocument: window == null ? void 0 : window.document\n  });\n  return manager;\n}\nfunction useModalManager(provided) {\n  const window = useWindow();\n  const modalManager = provided || getManager(window);\n  const modal = useRef({\n    dialog: null,\n    backdrop: null\n  });\n  return Object.assign(modal.current, {\n    add: () => modalManager.add(modal.current),\n    remove: () => modalManager.remove(modal.current),\n    isTopModal: () => modalManager.isTopModal(modal.current),\n    setDialogRef: useCallback(ref => {\n      modal.current.dialog = ref;\n    }, []),\n    setBackdropRef: useCallback(ref => {\n      modal.current.backdrop = ref;\n    }, [])\n  });\n}\nconst Modal = /*#__PURE__*/forwardRef((_ref, ref) => {\n  let {\n      show = false,\n      role = 'dialog',\n      className,\n      style,\n      children,\n      backdrop = true,\n      keyboard = true,\n      onBackdropClick,\n      onEscapeKeyDown,\n      transition,\n      runTransition,\n      backdropTransition,\n      runBackdropTransition,\n      autoFocus = true,\n      enforceFocus = true,\n      restoreFocus = true,\n      restoreFocusOptions,\n      renderDialog,\n      renderBackdrop = props => /*#__PURE__*/_jsx(\"div\", Object.assign({}, props)),\n      manager: providedManager,\n      container: containerRef,\n      onShow,\n      onHide = () => {},\n      onExit,\n      onExited,\n      onExiting,\n      onEnter,\n      onEntering,\n      onEntered\n    } = _ref,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  const ownerWindow = useWindow();\n  const container = useWaitForDOMRef(containerRef);\n  const modal = useModalManager(providedManager);\n  const isMounted = useMounted();\n  const prevShow = usePrevious(show);\n  const [exited, setExited] = useState(!show);\n  const lastFocusRef = useRef(null);\n  useImperativeHandle(ref, () => modal, [modal]);\n  if (canUseDOM && !prevShow && show) {\n    lastFocusRef.current = activeElement(ownerWindow == null ? void 0 : ownerWindow.document);\n  }\n\n  // TODO: I think this needs to be in an effect\n  if (show && exited) {\n    setExited(false);\n  }\n  const handleShow = useEventCallback(() => {\n    modal.add();\n    removeKeydownListenerRef.current = listen(document, 'keydown', handleDocumentKeyDown);\n    removeFocusListenerRef.current = listen(document, 'focus',\n    // the timeout is necessary b/c this will run before the new modal is mounted\n    // and so steals focus from it\n    () => setTimeout(handleEnforceFocus), true);\n    if (onShow) {\n      onShow();\n    }\n\n    // autofocus after onShow to not trigger a focus event for previous\n    // modals before this one is shown.\n    if (autoFocus) {\n      var _modal$dialog$ownerDo, _modal$dialog;\n      const currentActiveElement = activeElement((_modal$dialog$ownerDo = (_modal$dialog = modal.dialog) == null ? void 0 : _modal$dialog.ownerDocument) != null ? _modal$dialog$ownerDo : ownerWindow == null ? void 0 : ownerWindow.document);\n      if (modal.dialog && currentActiveElement && !contains(modal.dialog, currentActiveElement)) {\n        lastFocusRef.current = currentActiveElement;\n        modal.dialog.focus();\n      }\n    }\n  });\n  const handleHide = useEventCallback(() => {\n    modal.remove();\n    removeKeydownListenerRef.current == null ? void 0 : removeKeydownListenerRef.current();\n    removeFocusListenerRef.current == null ? void 0 : removeFocusListenerRef.current();\n    if (restoreFocus) {\n      var _lastFocusRef$current;\n      // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n      (_lastFocusRef$current = lastFocusRef.current) == null ? void 0 : _lastFocusRef$current.focus == null ? void 0 : _lastFocusRef$current.focus(restoreFocusOptions);\n      lastFocusRef.current = null;\n    }\n  });\n\n  // TODO: try and combine these effects: https://github.com/react-bootstrap/react-overlays/pull/794#discussion_r409954120\n\n  // Show logic when:\n  //  - show is `true` _and_ `container` has resolved\n  useEffect(() => {\n    if (!show || !container) return;\n    handleShow();\n  }, [show, container, /* should never change: */handleShow]);\n\n  // Hide cleanup logic when:\n  //  - `exited` switches to true\n  //  - component unmounts;\n  useEffect(() => {\n    if (!exited) return;\n    handleHide();\n  }, [exited, handleHide]);\n  useWillUnmount(() => {\n    handleHide();\n  });\n\n  // --------------------------------\n\n  const handleEnforceFocus = useEventCallback(() => {\n    if (!enforceFocus || !isMounted() || !modal.isTopModal()) {\n      return;\n    }\n    const currentActiveElement = activeElement(ownerWindow == null ? void 0 : ownerWindow.document);\n    if (modal.dialog && currentActiveElement && !contains(modal.dialog, currentActiveElement)) {\n      modal.dialog.focus();\n    }\n  });\n  const handleBackdropClick = useEventCallback(e => {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    onBackdropClick == null ? void 0 : onBackdropClick(e);\n    if (backdrop === true) {\n      onHide();\n    }\n  });\n  const handleDocumentKeyDown = useEventCallback(e => {\n    if (keyboard && isEscKey(e) && modal.isTopModal()) {\n      onEscapeKeyDown == null ? void 0 : onEscapeKeyDown(e);\n      if (!e.defaultPrevented) {\n        onHide();\n      }\n    }\n  });\n  const removeFocusListenerRef = useRef();\n  const removeKeydownListenerRef = useRef();\n  const handleHidden = (...args) => {\n    setExited(true);\n    onExited == null ? void 0 : onExited(...args);\n  };\n  if (!container) {\n    return null;\n  }\n  const dialogProps = Object.assign({\n    role,\n    ref: modal.setDialogRef,\n    // apparently only works on the dialog role element\n    'aria-modal': role === 'dialog' ? true : undefined\n  }, rest, {\n    style,\n    className,\n    tabIndex: -1\n  });\n  let dialog = renderDialog ? renderDialog(dialogProps) : /*#__PURE__*/_jsx(\"div\", Object.assign({}, dialogProps, {\n    children: /*#__PURE__*/React.cloneElement(children, {\n      role: 'document'\n    })\n  }));\n  dialog = renderTransition(transition, runTransition, {\n    unmountOnExit: true,\n    mountOnEnter: true,\n    appear: true,\n    in: !!show,\n    onExit,\n    onExiting,\n    onExited: handleHidden,\n    onEnter,\n    onEntering,\n    onEntered,\n    children: dialog\n  });\n  let backdropElement = null;\n  if (backdrop) {\n    backdropElement = renderBackdrop({\n      ref: modal.setBackdropRef,\n      onClick: handleBackdropClick\n    });\n    backdropElement = renderTransition(backdropTransition, runBackdropTransition, {\n      in: !!show,\n      appear: true,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      children: backdropElement\n    });\n  }\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsxs(_Fragment, {\n      children: [backdropElement, dialog]\n    }), container)\n  });\n});\nModal.displayName = 'Modal';\nexport default Object.assign(Modal, {\n  Manager: ModalManager\n});"]},"metadata":{},"sourceType":"module"}